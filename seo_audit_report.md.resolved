# Comprehensive Technical SEO Audit
## Voice of Tihama - January 2026

---

## Audit Scope

| Category | Count | Status |
|----------|-------|--------|
| Total Pages Analyzed | 26 | âœ… |
| Total Layouts Analyzed | 3 | âœ… |
| Critical Issues | 4 | âŒ |
| High Priority Issues | 8 | âš ï¸ |
| Medium Priority Issues | 5 | ğŸ“‹ |
| Best Practices Met | 7 | âœ… |

---

## âœ… What's Working Well

| Component | Status | Notes |
|-----------|--------|-------|
| Server Components | âœ… | Public pages use SSR correctly |
| ISR Configuration | âœ… | `revalidate = 60` on dynamic pages |
| robots.ts | âœ… | Admin/API routes properly blocked |
| Root Metadata | âœ… | [generateMetadata()](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/layout.tsx#13-64) with dynamic settings |
| Article JSON-LD | âœ… | NewsArticle schema present |
| Article Canonical | âœ… | Canonical URLs set |
| Article OG/Twitter | âœ… | Full social metadata |
| Image Optimization Config | âœ… | AVIF/WebP formats enabled |

---

# ğŸ”´ CRITICAL ISSUES (Fix Immediately)

## 1. Aggregated News - No Metadata (Client Component)

| File | [aggregated-news/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/aggregated-news/page.tsx) |
|------|---|
| Issue | `'use client'` directive prevents metadata export |
| Impact | **Page invisible to search engines** |

**Problem:** Line 1 has `'use client'` which blocks metadata export. Content renders client-side only.

**Solution:** Split into Server Component wrapper:

```tsx
// aggregated-news/page.tsx (NEW - Server Component)
import type { Metadata } from 'next';
import { AggregatedNewsContent } from './AggregatedNewsContent';

const siteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://voiceoftihama.com';

export const metadata: Metadata = {
    title: 'Ø£Ø®Ø¨Ø§Ø± Ù…Ù† Ù…ØµØ§Ø¯Ø± Ù…ÙˆØ«ÙˆÙ‚Ø© | ØµÙˆØª ØªÙ‡Ø§Ù…Ø©',
    description: 'ØªØºØ·ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø£Ø­Ø¯Ø§Ø« Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© ÙˆØ§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚Ø©',
    alternates: { canonical: `${siteUrl}/aggregated-news` },
    openGraph: {
        title: 'Ø£Ø®Ø¨Ø§Ø± Ù…Ù† Ù…ØµØ§Ø¯Ø± Ù…ÙˆØ«ÙˆÙ‚Ø© | ØµÙˆØª ØªÙ‡Ø§Ù…Ø©',
        url: `${siteUrl}/aggregated-news`,
        type: 'website',
    },
    robots: { index: true, follow: true },
};

export default function AggregatedNewsPage() {
    return <AggregatedNewsContent />;
}
```

```tsx
// aggregated-news/AggregatedNewsContent.tsx (NEW - Client Component)
'use client';
// Move ALL current page.tsx content here
```

---

## 2. Article Main Image - Native `<img>` for LCP

| File | [article/[slug]/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/%28public%29/article/%5Bslug%5D/page.tsx) |
|------|---|
| Lines | 141-145 |
| Issue | Native `<img>` instead of Next.js `<Image>` |
| Impact | **LCP score degradation, no optimization** |

**Current Code:**
```tsx
<img
    src={displayImageUrl}
    alt={article.title}
    className="w-full h-auto rounded-xl shadow-sm"
/>
```

**Fixed Code:**
```tsx
<Image
    src={displayImageUrl}
    alt={article.title}
    width={1200}
    height={630}
    priority={true}
    className="w-full h-auto rounded-xl shadow-sm"
    sizes="(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 1200px"
/>
```

---

## 3. Category Page - Missing Canonical & Schema

| File | [category/[slug]/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/category/%5Bslug%5D/page.tsx) |
|------|---|
| Lines | 24-32 |
| Issue | No canonical URL, no OG metadata, no CollectionPage schema |

**Current Code:**
```tsx
export async function generateMetadata({ params }: CategoryPageProps) {
    const { slug } = await params;
    const categoryName = CATEGORY_NAMES[slug] || slug;
    return {
        title: `${categoryName} | ØµÙˆØª ØªÙ‡Ø§Ù…Ø©`,
        description: `Ø¢Ø®Ø± Ø£Ø®Ø¨Ø§Ø± ${categoryName} Ù…Ù† Ù…Ù†ØµØ© ØµÙˆØª ØªÙ‡Ø§Ù…Ø©`,
    };
}
```

**Fixed Code:**
```tsx
import type { Metadata } from 'next';

const siteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://voiceoftihama.com';

export async function generateMetadata({ params }: CategoryPageProps): Promise<Metadata> {
    const { slug } = await params;
    const categoryName = CATEGORY_NAMES[slug] || slug;
    return {
        title: `${categoryName} | ØµÙˆØª ØªÙ‡Ø§Ù…Ø©`,
        description: `Ø¢Ø®Ø± Ø£Ø®Ø¨Ø§Ø± ${categoryName} Ù…Ù† Ù…Ù†ØµØ© ØµÙˆØª ØªÙ‡Ø§Ù…Ø©`,
        alternates: { canonical: `${siteUrl}/category/${slug}` },
        openGraph: {
            title: `${categoryName} | ØµÙˆØª ØªÙ‡Ø§Ù…Ø©`,
            description: `Ø¢Ø®Ø± Ø£Ø®Ø¨Ø§Ø± ${categoryName}`,
            url: `${siteUrl}/category/${slug}`,
            type: 'website',
            locale: 'ar_YE',
        },
    };
}
```

**Add JSON-LD (inside component, before return):**
```tsx
const categorySchema = {
    '@context': 'https://schema.org',
    '@type': 'CollectionPage',
    name: categoryName,
    url: `${siteUrl}/category/${slug}`,
};
```

---

## 4. Sitemap - Hardcoded Categories

| File | [sitemap.ts](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/sitemap.ts) |
|------|---|
| Lines | 41-48 |
| Issue | Categories hardcoded, missing Ù…Ù†ÙˆØ¹ category |

**Current:**
```tsx
const categories = ['politics', 'economy', 'sports', 'culture', 'technology'];
```

**Fixed:**
```tsx
// Dynamic category fetch
let categoryPages: MetadataRoute.Sitemap = [];
try {
    const catRes = await fetch(`${API_URL}/categories`, { next: { revalidate: 3600 } });
    if (catRes.ok) {
        const categories = await catRes.json();
        categoryPages = categories.map((cat: any) => ({
            url: `${SITE_URL}/category/${cat.slug}`,
            lastModified: new Date(),
            changeFrequency: 'hourly' as const,
            priority: 0.8,
        }));
    }
} catch {
    // Fallback
    categoryPages = ['politics','economy','sports','culture','technology','miscellaneous'].map(cat => ({
        url: `${SITE_URL}/category/${cat}`,
        lastModified: new Date(),
        changeFrequency: 'hourly' as const,
        priority: 0.8,
    }));
}
```

---

# ğŸŸ  HIGH PRIORITY ISSUES

## 5-12. Static Pages Missing Canonical & OG

All pages below use basic `export const metadata = {}` without canonical URLs or Open Graph.

| Page | File |
|------|------|
| About | [about/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/about/page.tsx) |
| Contact | [contact/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/contact/page.tsx) |
| Privacy | [privacy/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/privacy/page.tsx) |
| Terms | [terms/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/terms/page.tsx) |
| Search | [search/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/search/page.tsx) |
| Breaking | [breaking/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/breaking/page.tsx) |
| Login | [login/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/login/page.tsx) |
| Register | [register/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/register/page.tsx) |

**Template Fix (apply to all):**
```tsx
import type { Metadata } from 'next';

const siteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://voiceoftihama.com';

export const metadata: Metadata = {
    title: '[Page Title] | ØµÙˆØª ØªÙ‡Ø§Ù…Ø©',
    description: '[Page Description]',
    alternates: { canonical: `${siteUrl}/[page-path]` },
    openGraph: {
        title: '[Page Title] | ØµÙˆØª ØªÙ‡Ø§Ù…Ø©',
        description: '[Page Description]',
        url: `${siteUrl}/[page-path]`,
        type: 'website',
        locale: 'ar_YE',
        siteName: 'ØµÙˆØª ØªÙ‡Ø§Ù…Ø©',
    },
};
```

---

## 13. Homepage - Missing Organization Schema

| File | [page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/page.tsx) |
|------|---|
| Issue | No Organization or WebSite JSON-LD |

**Add to homepage:**
```tsx
const organizationSchema = {
    '@context': 'https://schema.org',
    '@type': 'NewsMediaOrganization',
    name: 'ØµÙˆØª ØªÙ‡Ø§Ù…Ø©',
    url: 'https://voiceoftihama.com',
    logo: {
        '@type': 'ImageObject',
        url: 'https://voiceoftihama.com/images/logo.png',
    },
    sameAs: ['https://facebook.com/voiceoftihama', 'https://twitter.com/voiceoftihama'],
};

const websiteSchema = {
    '@context': 'https://schema.org',
    '@type': 'WebSite',
    name: 'ØµÙˆØª ØªÙ‡Ø§Ù…Ø©',
    url: 'https://voiceoftihama.com',
    potentialAction: {
        '@type': 'SearchAction',
        target: 'https://voiceoftihama.com/search?q={search_term_string}',
        'query-input': 'required name=search_term_string',
    },
};
```

---

## 14. Article Page - Missing BreadcrumbList

| File | [article/[slug]/page.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/%28public%29/article/%5Bslug%5D/page.tsx) |
|------|---|
| Lines | After 121 |

**Add:**
```tsx
const breadcrumbSchema = {
    '@context': 'https://schema.org',
    '@type': 'BreadcrumbList',
    itemListElement: [
        { '@type': 'ListItem', position: 1, name: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', item: siteUrl },
        { '@type': 'ListItem', position: 2, name: article.category?.name, item: `${siteUrl}/category/${categorySlug}` },
        { '@type': 'ListItem', position: 3, name: article.title, item: `${siteUrl}/article/${slug}` },
    ],
};
```

---

# ğŸŸ¡ MEDIUM PRIORITY ISSUES

## 15. Root Layout - Duplicate Font Loading

| File | [layout.tsx](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/layout.tsx) |
|------|---|
| Lines | 73-76 |
| Issue | External Google Font link when `next/font` already used |

**Fix:** Remove lines 73-76 (the `<link>` tag). `next/font` handles optimization.

---

## 16. Sitemap Revalidation Too Long

| File | [sitemap.ts](file:///c:/Users/MahmoodCenter/Desktop/news-platform-next/src/app/sitemap.ts) |
|------|---|
| Line | 54 |

**Current:** `revalidate: 3600` (1 hour)  
**Recommended for news:** `revalidate: 300` (5 minutes)

---

## 17-19. Admin Pages - Missing noindex

Admin pages blocked via robots.txt but should also have `robots: { index: false }` in metadata for defense-in-depth. Apply to all `/admin/*` pages.

---

# ğŸ“Š Summary Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SEO COMPLIANCE MATRIX                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Page                â”‚ Meta   â”‚ Canonicalâ”‚ OG     â”‚ Schema      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Homepage            â”‚ âœ…     â”‚ âŒ       â”‚ âœ…     â”‚ âŒ Org/Web  â”‚
â”‚ Article [slug]      â”‚ âœ…     â”‚ âœ…       â”‚ âœ…     â”‚ âš ï¸ +Bread   â”‚
â”‚ Category [slug]     â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ âŒ Collect  â”‚
â”‚ About               â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ âŒ          â”‚
â”‚ Contact             â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ âŒ LocalBiz â”‚
â”‚ Privacy             â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ âŒ          â”‚
â”‚ Terms               â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ âŒ          â”‚
â”‚ Search              â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ âŒ          â”‚
â”‚ Breaking            â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ âŒ          â”‚
â”‚ Aggregated News     â”‚ âŒ     â”‚ âŒ       â”‚ âŒ     â”‚ âŒ          â”‚
â”‚ Login               â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ N/A         â”‚
â”‚ Register            â”‚ âœ…     â”‚ âŒ       â”‚ âŒ     â”‚ N/A         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend: âœ… Present | âŒ Missing | âš ï¸ Partial | N/A Not Applicable
```

---

## Recommended Implementation Order

1. **ğŸ”´ Critical: aggregated-news client component split** (blocks indexing)
2. **ğŸ”´ Critical: Article LCP image optimization** (Core Web Vitals)
3. **ğŸ”´ Critical: Category page canonical + schema**
4. **ğŸŸ  High: Homepage Organization/WebSite schema**
5. **ğŸŸ  High: Add canonical URLs to all static pages**
6. **ğŸŸ  High: Dynamic sitemap categories**
7. **ğŸŸ¡ Medium: Remove duplicate font loading**
